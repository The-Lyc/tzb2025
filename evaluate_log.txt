开始评估，共发现 26 个共同视频
IoU阈值: 0.3
时序一致性IoU阈值: 0.3
时空稳定性阈值: 0.8
时序一致性规则:
  - 目标数 ≤ 5: 要求所有目标检出，且类别正确，且IoU > 0.3
  - 目标数 > 5: 要求80%目标检出，且类别正确，且IoU > 0.3
总体指标计算方式: 直接视频级平均 (Direct video-level averaging)
--------------------------------------------------------------------------------
视频 video1: 处理了 1500 帧 (GT: 1500, Pred: 1500) - 时序一致性: 0.991
  <=5目标帧: 1487/1500, >5目标帧: 0/0
视频 video10: 处理了 380 帧 (GT: 380, Pred: 380) - 时序一致性: 0.000
  <=5目标帧: 0/0, >5目标帧: 0/380
视频 video11: 处理了 310 帧 (GT: 310, Pred: 310) - 时序一致性: 0.000
  <=5目标帧: 0/265, >5目标帧: 0/45
警告: 视频 video12 的真实标签帧数(90)与预测结果帧数(38)不匹配，将比较前38帧
视频 video12: 处理了 38 帧 (GT: 90, Pred: 38) - 时序一致性: 0.000
  <=5目标帧: 0/0, >5目标帧: 0/38
警告: 视频 video13 的真实标签帧数(240)与预测结果帧数(109)不匹配，将比较前109帧
视频 video13: 处理了 109 帧 (GT: 240, Pred: 109) - 时序一致性: 0.000
  <=5目标帧: 0/0, >5目标帧: 0/109
视频 video14: 处理了 360 帧 (GT: 360, Pred: 360) - 时序一致性: 0.000
  <=5目标帧: 0/0, >5目标帧: 0/360
视频 video15: 处理了 320 帧 (GT: 320, Pred: 320) - 时序一致性: 0.000
  <=5目标帧: 0/0, >5目标帧: 0/320
视频 video16: 处理了 280 帧 (GT: 280, Pred: 280) - 时序一致性: 0.807
  <=5目标帧: 31/36, >5目标帧: 195/244
警告: 视频 video17 的真实标签帧数(320)与预测结果帧数(165)不匹配，将比较前165帧
视频 video17: 处理了 165 帧 (GT: 320, Pred: 165) - 时序一致性: 0.000
  <=5目标帧: 0/0, >5目标帧: 0/165
视频 video18: 处理了 449 帧 (GT: 449, Pred: 449) - 时序一致性: 0.000
  <=5目标帧: 0/0, >5目标帧: 0/449
视频 video19: 处理了 1500 帧 (GT: 1500, Pred: 1500) - 时序一致性: 0.899
  <=5目标帧: 1349/1500, >5目标帧: 0/0
视频 video2: 处理了 763 帧 (GT: 763, Pred: 763) - 时序一致性: 0.708
  <=5目标帧: 540/763, >5目标帧: 0/0
视频 video20: 处理了 1467 帧 (GT: 1467, Pred: 1467) - 时序一致性: 0.596
  <=5目标帧: 391/983, >5目标帧: 0/0
视频 video21: 处理了 1000 帧 (GT: 1000, Pred: 1000) - 时序一致性: 0.899
  <=5目标帧: 899/1000, >5目标帧: 0/0
视频 video22: 处理了 948 帧 (GT: 948, Pred: 948) - 时序一致性: 0.004
  <=5目标帧: 4/948, >5目标帧: 0/0
视频 video23: 处理了 850 帧 (GT: 850, Pred: 850) - 时序一致性: 0.367
  <=5目标帧: 312/850, >5目标帧: 0/0
视频 video24: 处理了 1500 帧 (GT: 1500, Pred: 1500) - 时序一致性: 0.000
  <=5目标帧: 0/1500, >5目标帧: 0/0
视频 video25: 处理了 1500 帧 (GT: 1500, Pred: 1500) - 时序一致性: 0.060
  <=5目标帧: 3/1413, >5目标帧: 0/0
视频 video26: 处理了 1500 帧 (GT: 1500, Pred: 1500) - 时序一致性: 0.197
  <=5目标帧: 63/1267, >5目标帧: 0/0
视频 video3: 处理了 100 帧 (GT: 100, Pred: 100) - 时序一致性: 0.310
  <=5目标帧: 4/73, >5目标帧: 0/0
视频 video4: 处理了 399 帧 (GT: 399, Pred: 399) - 时序一致性: 0.960
  <=5目标帧: 383/399, >5目标帧: 0/0
视频 video5: 处理了 399 帧 (GT: 399, Pred: 399) - 时序一致性: 0.000
  <=5目标帧: 0/399, >5目标帧: 0/0
视频 video6: 处理了 399 帧 (GT: 399, Pred: 399) - 时序一致性: 0.992
  <=5目标帧: 396/399, >5目标帧: 0/0
视频 video7: 处理了 399 帧 (GT: 399, Pred: 399) - 时序一致性: 0.000
  <=5目标帧: 0/399, >5目标帧: 0/0
警告: 视频 video8 的真实标签帧数(290)与预测结果帧数(203)不匹配，将比较前203帧
视频 video8: 处理了 203 帧 (GT: 290, Pred: 203) - 时序一致性: 0.000
  <=5目标帧: 0/0, >5目标帧: 0/203
视频 video9: 处理了 350 帧 (GT: 350, Pred: 350) - 时序一致性: 0.083
  <=5目标帧: 2/6, >5目标帧: 27/344
--------------------------------------------------------------------------------
评估完成，总共处理了 17188 帧

================================================================================
各视频详细评估结果
================================================================================

视频: video1
处理帧数: 1500 (GT: 1500, Pred: 1500)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.991    0.991    0.009    1487 14   13
------------------------------------------------------------
视频总体         0.991    0.991    0.009    1487 14   13
时序一致性: 0.991 (1487/1500 帧)
  目标数≤5帧: 1487/1500 (0.991) - 要求100%检出

视频: video10
处理帧数: 380 (GT: 380, Pred: 380)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.000    0.000    1.000    0    319  0
car          0.021    0.024    0.976    3    122  139
pedestrian   0.379    0.769    0.231    10828 3251 17750
cyclist      0.000    0.000    1.000    0    603  123
------------------------------------------------------------
视频总体         0.133    0.264    0.736    10831 4295 18012
时序一致性: 0.000 (0/380 帧)
  目标数>5帧: 0/380 (0.000) - 要求80%检出

视频: video11
处理帧数: 310 (GT: 310, Pred: 310)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
car          0.016    0.014    0.986    4    272  251
bus          0.000    0.000    1.000    0    30   0
pedestrian   0.000    0.000    1.000    0    80   251
cyclist      0.038    0.094    0.906    24   232  607
------------------------------------------------------------
视频总体         0.018    0.036    0.964    28   614  1109
时序一致性: 0.000 (0/310 帧)
  目标数≤5帧: 0/265 (0.000) - 要求100%检出
  目标数>5帧: 0/45 (0.000) - 要求80%检出

视频: video12
处理帧数: 38 (GT: 90, Pred: 38)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.000    0.000    1.000    0    16   0
car          0.000    0.000    1.000    0    66   0
bus          0.000    0.000    1.000    0    12   0
pedestrian   0.043    0.041    0.959    12   278  264
cyclist      0.000    0.000    1.000    0    28   0
------------------------------------------------------------
视频总体         0.043    0.041    0.959    12   400  264
时序一致性: 0.000 (0/38 帧)
  目标数>5帧: 0/38 (0.000) - 要求80%检出

视频: video13
处理帧数: 109 (GT: 240, Pred: 109)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
car          0.227    0.229    0.771    1099 3694 3735
ship         0.129    0.746    0.254    50   17   337
bus          0.023    0.094    0.906    10   96   434
pedestrian   0.079    0.088    0.912    425  4421 4987
cyclist      0.041    0.010    0.990    11   1077 260
------------------------------------------------------------
视频总体         0.100    0.234    0.766    1595 9305 9753
时序一致性: 0.000 (0/109 帧)
  目标数>5帧: 0/109 (0.000) - 要求80%检出

视频: video14
处理帧数: 360 (GT: 360, Pred: 360)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
car          0.676    0.738    0.262    6344 2247 3040
bus          0.086    0.729    0.271    62   23   658
pedestrian   0.330    0.047    0.953    216  4333 439
cyclist      0.092    0.172    0.828    578  2780 5728
------------------------------------------------------------
视频总体         0.296    0.422    0.578    7200 9383 9865
时序一致性: 0.000 (0/360 帧)
  目标数>5帧: 0/360 (0.000) - 要求80%检出

视频: video15
处理帧数: 320 (GT: 320, Pred: 320)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
car          0.283    0.658    0.342    3237 1683 8216
bus          0.000    0.000    1.000    0    74   0
pedestrian   0.226    0.093    0.907    120  1166 411
cyclist      0.701    0.235    0.765    882  2866 377
------------------------------------------------------------
视频总体         0.403    0.329    0.671    4239 5789 9004
时序一致性: 0.000 (0/320 帧)
  目标数>5帧: 0/320 (0.000) - 要求80%检出

视频: video16
处理帧数: 280 (GT: 280, Pred: 280)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
car          0.870    0.828    0.172    1279 266  191
bus          0.000    0.000    1.000    0    52   0
pedestrian   0.010    0.003    0.997    2    616  194
cyclist      0.980    0.107    0.893    241  2002 5
------------------------------------------------------------
视频总体         0.620    0.313    0.687    1522 2936 390
时序一致性: 0.807 (226/280 帧)
  目标数≤5帧: 31/36 (0.861) - 要求100%检出
  目标数>5帧: 195/244 (0.799) - 要求80%检出

视频: video17
处理帧数: 165 (GT: 320, Pred: 165)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
car          0.354    0.228    0.772    711  2414 1296
bus          0.000    0.000    1.000    0    115  85
pedestrian   0.010    0.004    0.996    23   5461 2332
cyclist      0.026    0.006    0.994    21   3320 797
------------------------------------------------------------
视频总体         0.097    0.059    0.941    755  11310 4510
时序一致性: 0.000 (0/165 帧)
  目标数>5帧: 0/165 (0.000) - 要求80%检出

视频: video18
处理帧数: 449 (GT: 449, Pred: 449)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
car          0.512    0.186    0.814    1733 7560 1651
bus          0.187    0.120    0.880    110  806  477
pedestrian   0.000    0.000    1.000    0    2061 0
cyclist      0.269    0.051    0.949    238  4395 646
------------------------------------------------------------
视频总体         0.323    0.119    0.881    2081 14822 2774
时序一致性: 0.000 (0/449 帧)
  目标数>5帧: 0/449 (0.000) - 要求80%检出

视频: video19
处理帧数: 1500 (GT: 1500, Pred: 1500)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.899    0.493    0.507    1349 1389 151
car          0.000    0.000    1.000    0    15   0
ship         0.000    0.000    1.000    0    14   0
pedestrian   0.000    0.000    1.000    0    6    0
------------------------------------------------------------
视频总体         0.899    0.493    0.507    1349 1424 151
时序一致性: 0.899 (1349/1500 帧)
  目标数≤5帧: 1349/1500 (0.899) - 要求100%检出

视频: video2
处理帧数: 763 (GT: 763, Pred: 763)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.708    0.421    0.579    540  744  223
------------------------------------------------------------
视频总体         0.708    0.421    0.579    540  744  223
时序一致性: 0.708 (540/763 帧)
  目标数≤5帧: 540/763 (0.708) - 要求100%检出

视频: video20
处理帧数: 1467 (GT: 1467, Pred: 1467)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.398    0.395    0.605    391  600  592
car          0.000    0.000    1.000    0    84   0
ship         0.000    0.000    1.000    0    52   0
bus          0.000    0.000    1.000    0    11   0
pedestrian   0.000    0.000    1.000    0    1    0
------------------------------------------------------------
视频总体         0.398    0.395    0.605    391  748  592
时序一致性: 0.596 (875/1467 帧)
  目标数≤5帧: 391/983 (0.398) - 要求100%检出

视频: video21
处理帧数: 1000 (GT: 1000, Pred: 1000)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.899    0.434    0.566    899  1172 101
pedestrian   0.000    0.000    1.000    0    1    0
------------------------------------------------------------
视频总体         0.899    0.434    0.566    899  1173 101
时序一致性: 0.899 (899/1000 帧)
  目标数≤5帧: 899/1000 (0.899) - 要求100%检出

视频: video22
处理帧数: 948 (GT: 948, Pred: 948)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.004    0.001    0.999    4    3916 944
car          0.000    0.000    1.000    0    47   0
ship         0.000    0.000    1.000    0    30   0
bus          0.000    0.000    1.000    0    3    0
pedestrian   0.000    0.000    1.000    0    5    0
------------------------------------------------------------
视频总体         0.004    0.001    0.999    4    4001 944
时序一致性: 0.004 (4/948 帧)
  目标数≤5帧: 4/948 (0.004) - 要求100%检出

视频: video23
处理帧数: 850 (GT: 850, Pred: 850)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.367    0.230    0.770    312  1044 538
car          0.000    0.000    1.000    0    15   0
ship         0.000    0.000    1.000    0    9    0
pedestrian   0.000    0.000    1.000    0    218  0
------------------------------------------------------------
视频总体         0.367    0.230    0.770    312  1286 538
时序一致性: 0.367 (312/850 帧)
  目标数≤5帧: 312/850 (0.367) - 要求100%检出

视频: video24
处理帧数: 1500 (GT: 1500, Pred: 1500)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.000    0.000    1.000    0    0    1500
car          0.000    0.000    1.000    0    577  0
------------------------------------------------------------
视频总体         0.000    0.000    1.000    0    577  1500
时序一致性: 0.000 (0/1500 帧)
  目标数≤5帧: 0/1500 (0.000) - 要求100%检出

视频: video25
处理帧数: 1500 (GT: 1500, Pred: 1500)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.002    0.273    0.727    3    8    1410
car          0.000    0.000    1.000    0    4435 0
ship         0.000    0.000    1.000    0    2    0
bus          0.000    0.000    1.000    0    242  0
pedestrian   0.000    0.000    1.000    0    1    0
cyclist      0.000    0.000    1.000    0    507  0
------------------------------------------------------------
视频总体         0.002    0.273    0.727    3    5195 1410
时序一致性: 0.060 (90/1500 帧)
  目标数≤5帧: 3/1413 (0.002) - 要求100%检出

视频: video26
处理帧数: 1500 (GT: 1500, Pred: 1500)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.050    0.061    0.939    63   970  1204
car          0.000    0.000    1.000    0    2    0
ship         0.000    0.000    1.000    0    72   0
pedestrian   0.000    0.000    1.000    0    158  0
------------------------------------------------------------
视频总体         0.050    0.061    0.939    63   1202 1204
时序一致性: 0.197 (296/1500 帧)
  目标数≤5帧: 63/1267 (0.050) - 要求100%检出

视频: video3
处理帧数: 100 (GT: 100, Pred: 100)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.055    0.022    0.978    4    176  69
car          0.000    0.000    1.000    0    3    0
------------------------------------------------------------
视频总体         0.055    0.022    0.978    4    179  69
时序一致性: 0.310 (31/100 帧)
  目标数≤5帧: 4/73 (0.055) - 要求100%检出

视频: video4
处理帧数: 399 (GT: 399, Pred: 399)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.960    0.910    0.090    383  38   16
------------------------------------------------------------
视频总体         0.960    0.910    0.090    383  38   16
时序一致性: 0.960 (383/399 帧)
  目标数≤5帧: 383/399 (0.960) - 要求100%检出

视频: video5
处理帧数: 399 (GT: 399, Pred: 399)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.000    0.000    1.000    0    407  399
car          0.000    0.000    1.000    0    33   0
pedestrian   0.000    0.000    1.000    0    5    0
------------------------------------------------------------
视频总体         0.000    0.000    1.000    0    445  399
时序一致性: 0.000 (0/399 帧)
  目标数≤5帧: 0/399 (0.000) - 要求100%检出

视频: video6
处理帧数: 399 (GT: 399, Pred: 399)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.992    0.968    0.032    396  13   3
car          0.000    0.000    1.000    0    2    0
------------------------------------------------------------
视频总体         0.992    0.968    0.032    396  15   3
时序一致性: 0.992 (396/399 帧)
  目标数≤5帧: 396/399 (0.992) - 要求100%检出

视频: video7
处理帧数: 399 (GT: 399, Pred: 399)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.000    0.000    1.000    0    374  399
car          0.000    0.000    1.000    0    24   0
------------------------------------------------------------
视频总体         0.000    0.000    1.000    0    398  399
时序一致性: 0.000 (0/399 帧)
  目标数≤5帧: 0/399 (0.000) - 要求100%检出

视频: video8
处理帧数: 203 (GT: 290, Pred: 203)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
car          0.111    0.098    0.902    223  2043 1779
bus          0.000    0.000    1.000    0    143  227
pedestrian   0.015    0.012    0.988    18   1441 1215
cyclist      0.016    0.002    0.998    4    2322 248
------------------------------------------------------------
视频总体         0.035    0.028    0.972    245  5949 3469
时序一致性: 0.000 (0/203 帧)
  目标数>5帧: 0/203 (0.000) - 要求80%检出

视频: video9
处理帧数: 350 (GT: 350, Pred: 350)
类别           召回率      精确率      虚警率      TP   FP   FN
------------------------------------------------------------
drone        0.000    0.000    1.000    0    1    0
car          0.867    0.608    0.392    1916 1234 294
ship         0.000    0.000    1.000    0    4    0
bus          0.419    0.545    0.455    36   30   50
pedestrian   0.113    0.073    0.927    160  2038 1257
cyclist      0.408    0.087    0.913    206  2156 299
------------------------------------------------------------
视频总体         0.452    0.328    0.672    2318 5463 1900
时序一致性: 0.083 (29/350 帧)
  目标数≤5帧: 2/6 (0.333) - 要求100%检出
  目标数>5帧: 27/344 (0.078) - 要求80%检出

========================================================================================
总体评估结果 (各视频性能指标)
========================================================================================
视频名称                 召回率      精确率      虚警率      时序一致性      TP     FP     FN     帧数
----------------------------------------------------------------------------------------
video1               0.991    0.991    0.009    0.991    ✓ 1487   14     13     1500
video10              0.133    0.264    0.736    0.000      10831  4295   18012  380
video11              0.018    0.036    0.964    0.000      28     614    1109   310
video12              0.043    0.041    0.959    0.000      12     400    264    38
video13              0.100    0.234    0.766    0.000      1595   9305   9753   109
video14              0.296    0.422    0.578    0.000      7200   9383   9865   360
video15              0.403    0.329    0.671    0.000      4239   5789   9004   320
video16              0.620    0.313    0.687    0.807    ✓ 1522   2936   390    280
video17              0.097    0.059    0.941    0.000      755    11310  4510   165
video18              0.323    0.119    0.881    0.000      2081   14822  2774   449
video19              0.899    0.493    0.507    0.899    ✓ 1349   1424   151    1500
video2               0.708    0.421    0.579    0.708      540    744    223    763
video20              0.398    0.395    0.605    0.596      391    748    592    1467
video21              0.899    0.434    0.566    0.899    ✓ 899    1173   101    1000
video22              0.004    0.001    0.999    0.004      4      4001   944    948
video23              0.367    0.230    0.770    0.367      312    1286   538    850
video24              0.000    0.000    1.000    0.000      0      577    1500   1500
video25              0.002    0.273    0.727    0.060      3      5195   1410   1500
video26              0.050    0.061    0.939    0.197      63     1202   1204   1500
video3               0.055    0.022    0.978    0.310      4      179    69     100
video4               0.960    0.910    0.090    0.960    ✓ 383    38     16     399
video5               0.000    0.000    1.000    0.000      0      445    399    399
video6               0.992    0.968    0.032    0.992    ✓ 396    15     3      399
video7               0.000    0.000    1.000    0.000      0      398    399    399
video8               0.035    0.028    0.972    0.000      245    5949   3469   203
video9               0.452    0.328    0.672    0.083      2318   5463   1900   350
----------------------------------------------------------------------------------------
总体平均                 0.340    0.284    0.716    0.303      36657  87705  68612  17188

详细统计:
总真实目标数: 105269
总预测目标数: 124362
总处理帧数: 17188
IoU阈值: 0.3
评估视频数: 26
时序一致性IoU阈值: 0.3
时空序列稳定性: 0.231 (6/26 个视频超过80%阈值)

时序一致性统计:
  目标数≤5帧: 5864/13700 (0.428) - 要求100%检出
  目标数>5帧: 222/2657 (0.084) - 要求80%检出

时序一致性规则:
  - 目标数 ≤ 5: 要求所有目标检出，且类别正确，且IoU > 0.3
  - 目标数 > 5: 要求80%目标检出，且类别正确，且IoU > 0.3
总体指标计算方式: 直接视频级平均

详细结果已保存到: detection_evaluation_results_simplified.json